$worksAnimationSpeed: 750
$cubicWorks: cubic-bezier(.3,.0,1.9,04)

.works
	position: relative
	width: 100%
	height: 100%
	display: flex
	flex-direction: column
	align-items: center
	+r(1023)
		padding: 20px
	&.swiper-container-initialized
		transform: translateX(200vw)
		animation: worksItemInit 1s ease-in 1.5s 1 normal forwards

		@keyframes worksInit
			0%
			100%
				transform: translateX(0)

		.works__scrollbar
			opacity: 0
			animation: worksInitScrollbar 1s ease-in 2.5s 1 normal forwards

	&__slider
		height: 100%
		position: relative
		transition-timing-function: $cubicWorks
		will-change: transform
		cursor: grab
		+counter('after', list, '0', '.works__title')
			pointer-events: none

		&:active
			cursor: grabbing

	&__scrollbar
		position: absolute
		bottom: 0
		right: 0
		left: $padW
		height: 6px
		opacity: 0
		+r(1023)
			bottom: auto
			top: 0
			left: 0
			height: 5px
			background-color: rgba($black, 0.25)
		.swiper-scrollbar-drag
			background-color: rgba($pink, 1)
			border-radius: 0
			+trs($worksAnimationSpeed)
			// +h
			// 	cursor: pointer
			// 	background-color: rgba($black, 1)

	&__arrow
		position: absolute
		display: flex
		top: 0px
		bottom: $padH*3
		margin: auto 0
		width: 70px
		width: $padW
		height: 50px
		height: $padH
		opacity: 0.9
		+trs($worksAnimationSpeed)
		+h
			cursor: pointer
			opacity: 1
			svg
				filter: drop-shadow(0 0 8px rgba($black, 0.75))
				fill: $pink
		+r(1023)
			bottom: $padH*3
			width: 50px
			height: 30px
		&--next
			right: calc((100% / 6) + #{$padW})
			+r(1023)
				right: $padW*2

		&--prev
			left: calc((100% / 6) + #{$padW})
			+rotate(180)
			+r(1023)
				left: $padW*2

		&.swiper-button-disabled
			opacity: 0
			pointer-events: none

		svg
			+cover
			fill: $white
			filter: drop-shadow(0 0 10px rgba($black, 0.25))
			+tr

	&__item
		position: relative
		width: 100%
		height: 100%
		display: flex
		user-select: none
		transform: translateX(200vw)
		animation-name: worksItemInit
		animation-duration: 1s
		animation-delay: calc(2s + var(--animation-order) * 250ms)
		animation-fill-mode: both
		animation-timing-function: cubic-bezier(0.550, 0.460, 0.450, 0.940)
		will-change: transform
		+trs($worksAnimationSpeed*0.5, transform)
		+r(1023)
			animation: none
			transform: translateX(0)
		&:last-child
			.works__item-container
				+backlight(0, 0, 0, 100%, 65, $pink, cyan, 20s)
			.works__link
				opacity: 0 !important
				pointer-events: none !important

		&.active
			z-index: 999
			+r(1023)
				transform: translateX(0) scale(1.025)
			.works__item-container

			.works__title
				text-shadow: 5px 4px 1px var(--color)
				opacity: 1
				transform: translate3d(0,$padH/3,$padH*1.25) scale(0.9)
				color: $white

			.works__logo
				transform: translate3d(0,0,$padH*2)
				height: 100%
				max-height: $padW*2
				filter: drop-shadow(12px 12px 7px rgba(0,0,0,.25))
				+r(1023)
					max-height: $padW*6

			.works__link
				opacity: 1
				// box-shadow: 0 0 40px 0 rgba($white, 0.25)
				transform: translate3d(0,-$padH/4,$padH*1.25)
				+h
					background-color: $pink
					color: $white
					+r(1023)
						transform: translate3d(0,0,150px) scale(1.2)

			.works__img-container
				opacity: 1
				&:after
					background-color: rgba($black, 0.45)

	&__item-container
		position: relative
		width: 100%
		height: 100%
		padding: $padH*1.25 0
		display: flex
		flex-direction: column
		align-items: center
		justify-content: space-between
		transform-style: preserve-3d
		+r(1023)
			padding: $padH*0.75 0 $padH*1.25 0

	&__title
		padding: $padH/2 $padW/4 $padH/3 $padW/4
		position: relative
		width: 100%
		display: flex
		justify-content: space-between
		align-items: center
		// background-color: rgba($white, 0.75)
		font-family: $f4
		font-size: $padW/1.5
		line-height: $padW/2
		color: $black
		font-weight: 900
		text-transform: uppercase
		opacity: 0
		+textOverflow
		+ls(50)
		+trs($worksAnimationSpeed)
		will-change: transform, opacity
		+r(1023)
			padding: $padH/2 $padW $padH/3 $padW
			font-size: $padW*1.5
			line-height: $padW*1.5

	&__subtitle
		display: none
		margin-bottom: 20px
		font-family: $f2
		font-size: 16px
		line-height: 14px
		text-transform: uppercase
		+ls(200)

	&__logo
		width: auto
		max-width: 75%
		height: 100%
		max-height: $padW
		display: flex
		align-items: center
		justify-content: center
		user-select: none
		+scale(0.25)
		+trs($worksAnimationSpeed)
		will-change: transform
		+r(1023)
			max-height: $padW*3

		&.ready
			opacity: 1
			+scale(1)

	&__logo-img
		display: block
		width: auto
		max-width: 100%
		height: 100%
		pointer-events: none
		// filter: drop-shadow(0px 0px 1px rgba($white, 1))

	&__link
		display: flex
		align-items: center
		position: relative
		align-items: center
		padding: $padH/5 $padW/4 $padH/5 $padW/4
		opacity: 0
		// box-shadow: 0 0 40px 0 rgba($white, 0)
		color: $black
		font-family: $f4
		font-size: $padW/4
		font-weight: 400
		text-transform: uppercase
		background-color: rgba($white, 0.75)
		+ls(300)
		transform: translate3d(0,0,0)
		+trs($worksAnimationSpeed)
		+h
			cursor: pointer
		+r(1023)
			font-size: $padW
			padding: $padH/4 $padW $padH/4.5 $padW

		svg
			fill: $black
			margin-left: 10px
			width: 20px
			height: 20px
			display: none

	&__img-container
		+cover
		z-index: -1
		overflow: hidden
		opacity: 0.95
		// pointer-events: none
		+trs($worksAnimationSpeed, opacity)
		+after
			+cover
			background-color: rgba($black, 0.75)
			pointer-events: none
			z-index: 0
			+trs($worksAnimationSpeed, background-color)

	&__img-preloader
		+cover
		background-color: $pink
		margin: 0
		opacity: 0.5

		transition-timing-function: linear
		animation: worksPreload $worksAnimationSpeed*2+ms infinite
		+after(none)

	&__img-parallax
		// pointer-events: none
		display: block
		left: -100%
		right: 100%
		width: 300%
		position: absolute
		top: 0
		bottom: 0
		height: 100%
		background-size: cover
		background-repeat: no-repeat
		background-position: 50% 50%
		// transition-timing-function: linear
		transition-timing-function: $cubicWorks
		opacity: 0
		will-change: transform

		&.swiper-lazy-loaded
			opacity: 1

@keyframes worksPreload
	0%
		opacity: 0.5
	50%
		opacity: 1
	100%
		opacity: 0.5

@keyframes worksItemInit
	0%
	100%
		transform: rotate(0) translate(0) skew(0) scale(1)

@keyframes worksInitScrollbar
	0%
		opacity: 0
	100%
		opacity: 1
